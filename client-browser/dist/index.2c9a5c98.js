function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},r={},n=t.parcelRequire659d;null==n&&((n=function(e){if(e in o)return o[e].exports;if(e in r){var t=r[e];delete r[e];var n={id:e,exports:{}};return o[e]=n,t.call(n.exports,n,n.exports),n.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},t.parcelRequire659d=n),n.register("7PhYn",(function(e,t){var o,r,n,i,a;o=e.exports,r="register",n=()=>a,i=e=>a=e,Object.defineProperty(o,r,{get:n,set:i,enumerable:!0,configurable:!0});var s={};a=function(e){for(var t=Object.keys(e),o=0;o<t.length;o++)s[t[o]]=e[t[o]]}})),n("7PhYn").register(JSON.parse('{"kg95X":"index.2c9a5c98.js","79nUm":"index.b7257079.css"}'));class i extends HTMLElement{constructor(){super(),this._root=this.attachShadow({mode:"closed"}),this._inputs={},this._buttons={},this._criarElementosPrincipais(),this._referenciarBotoesEElementos(),this._atribuirEventos()}_criarElementosPrincipais(){const t=document.createElement("style"),o=document.createElement("main");t.innerHTML=e("*{box-sizing:border-box}:host{background-color:#fff;border:1px solid #909090;border-radius:15px;box-shadow:2px 2px 2px #00000066;display:inline-block;font-family:var(--default-font);min-width:400px;padding:1em}div{height:100%;padding:1em}div.actions{display:flex;justify-content:flex-end}div label{display:block;padding-left:.8em}div input{border:1px solid #909090;border-radius:15px;outline:none;padding:1em;width:100%}.actions[data-tipo=adicionar] button.bt-alterar,.actions[data-tipo=alterar] button.bt-adicionar{display:none}.actions button{background-color:transparent;background:#0385a8;border:0;border-radius:25px;color:#fff;cursor:pointer;margin-left:1em;padding:.5em 1em;transition:.3s}.actions button:hover{transform:scale(1.05)}.actions button.bt-remover{background:transparent;color:#f44336}.actions button.bt-remover:hover{background:#f44336;color:#fff}"),o.innerHTML=e('<div> <label for="nome">nome</label> <input placeholder="insira o nome" name="nome" id="nome"> </div><div> <label for="sobrenome">sobrenome</label> <input placeholder="insira o sobrenome" name="sobrenome" id="sobrenome"> </div><div> <label for="email">email</label> <input placeholder="insira o endereço email" name="email" id="email"> </div><div> <label for="telefone">telefone</label> <input placeholder="insira o número telefone" name="telefone" id="telefone"> </div><div class="actions" data-tipo="inserir"> <button class="bt-remover" name="remover">remover</button> <button class="bt-salvar" name="salvar">salvar</button> </div>'),this._root.append(t,o),this._domMain=o,this._domActionBar=o.querySelector(".actions")}_referenciarBotoesEElementos(){this._domMain.querySelectorAll("input[name]").forEach((e=>{this._inputs[e.getAttribute("name")]=e})),this._domMain.querySelectorAll("button[name]").forEach((e=>{this._buttons[e.getAttribute("name")]=e}))}_atribuirEventos(){this._buttons.remover.addEventListener("click",(e=>this._remover())),this._buttons.salvar.addEventListener("click",(e=>this._salvar()))}carregarDadosPreCarregados(){}async _remover(){if(this._id)try{await fetch(`http://localhost:8080/pessoa/${this._id}`,{method:"DELETE"})}catch(e){throw alert("ERRO: "+e),new Error(e)}this.remove()}async _salvar(){const e=Object.fromEntries(Object.entries(this._inputs).map((([e,t])=>[e,t.value]))),t=await fetch(`http://localhost:8080/pessoa/${this._id||""}`,{method:this._id?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(200!==t.status)throw alert("ERRO NO SERVIDOR!"),new Error("Erro por parte do servidor ao inserir dados");const o=await t.json();o.id&&(this._id=o.id)}}customElements.define("comp-form-pessoa",i);const a=document.querySelector("main");document.querySelector(".bt-adicionar-pessoa").addEventListener("click",(e=>{const t=new i;a.append(t)}));
//# sourceMappingURL=index.2c9a5c98.js.map
